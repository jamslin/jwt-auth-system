# ==============================================================
# APPLICATION CONFIGURATION
# ==============================================================

server:
  port: 8080

spring:
  application:
    name: auth-api

  # ==============================================================
  # DATABASE CONFIGURATION
  # Using H2 in-memory database for development
  # ==============================================================
  datasource:
    url: jdbc:h2:mem:authdb
    driverClassName: org.h2.Driver
    username: sa
    password: 
  
  # H2 Console (access at http://localhost:8080/h2-console)
  h2:
    console:
      enabled: true
      path: /h2-console
      settings:
        web-allow-others: true

  # ==============================================================
  # JPA / HIBERNATE CONFIGURATION
  # ==============================================================
  jpa:
    database-platform: org.hibernate.dialect.H2Dialect
    hibernate:
      ddl-auto: create-drop  # Creates tables on startup, drops on shutdown
    show-sql: true           # Log SQL queries (disable in production)
    properties:
      hibernate:
        format_sql: true     # Pretty print SQL

# ==============================================================
# JWT CONFIGURATION
# ==============================================================
jwt:
  # IMPORTANT: In production, use a strong secret stored in environment variable
  # Generate with: openssl rand -base64 64
  secret: bXlTdXBlclNlY3JldEtleUZvckpXVEF1dGhlbnRpY2F0aW9uVGhhdFNob3VsZEJlTG9uZ0Vub3VnaEZvckhTNTEyQWxnb3JpdGhtMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MA==
  
  # Token expiration times in milliseconds
  expiration:
    access: 900000      # 15 minutes (short-lived for security)
    refresh: 604800000  # 7 days (for obtaining new access tokens)

# ==============================================================
# LOGGING CONFIGURATION
# ==============================================================
logging:
  level:
    root: INFO
    com.example.authapi: DEBUG
    org.springframework.security: DEBUG
